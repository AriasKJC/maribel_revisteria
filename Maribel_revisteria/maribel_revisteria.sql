-- MySQL dump 10.13  Distrib 8.0.30, for Win64 (x86_64)
--
-- Host: localhost    Database: maribel_revisteria
-- ------------------------------------------------------
-- Server version	8.0.30

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!50503 SET NAMES utf8mb4 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE='+00:00' */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `categoria_publicacion`
--

DROP TABLE IF EXISTS `categoria_publicacion`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `categoria_publicacion` (
  `id_categoria` int NOT NULL AUTO_INCREMENT,
  `nombre` varchar(100) COLLATE utf8mb4_unicode_ci NOT NULL,
  `descripcion` text COLLATE utf8mb4_unicode_ci,
  `activo` tinyint(1) DEFAULT '1',
  `fecha_creacion` timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  `fecha_modificacion` timestamp NULL DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id_categoria`),
  UNIQUE KEY `nombre` (`nombre`)
) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `categoria_publicacion`
--

LOCK TABLES `categoria_publicacion` WRITE;
/*!40000 ALTER TABLE `categoria_publicacion` DISABLE KEYS */;
INSERT INTO `categoria_publicacion` VALUES (1,'Actualidad',NULL,1,'2025-11-18 21:33:28',NULL),(2,'Ficción',NULL,1,'2025-11-18 21:33:28',NULL),(3,'Deportes',NULL,1,'2025-11-18 21:33:28',NULL),(4,'Infantil',NULL,1,'2025-11-18 21:33:28',NULL);
/*!40000 ALTER TABLE `categoria_publicacion` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `codigo_postal`
--

DROP TABLE IF EXISTS `codigo_postal`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `codigo_postal` (
  `id_codigo_postal` int NOT NULL AUTO_INCREMENT,
  `codigo_postal` varchar(10) COLLATE utf8mb4_unicode_ci NOT NULL,
  `localidad` varchar(100) COLLATE utf8mb4_unicode_ci NOT NULL,
  `fecha_creacion` timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  `fecha_modificacion` timestamp NULL DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id_codigo_postal`),
  UNIQUE KEY `codigo_postal` (`codigo_postal`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `codigo_postal`
--

LOCK TABLES `codigo_postal` WRITE;
/*!40000 ALTER TABLE `codigo_postal` DISABLE KEYS */;
INSERT INTO `codigo_postal` VALUES (1,'4500','San Pedro de Jujuy','2025-11-18 21:39:04',NULL);
/*!40000 ALTER TABLE `codigo_postal` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `detallemovimiento`
--

DROP TABLE IF EXISTS `detallemovimiento`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `detallemovimiento` (
  `id_detalle` int NOT NULL AUTO_INCREMENT,
  `id_movimiento` int NOT NULL,
  `id_publicacion` int NOT NULL,
  `cantidad` int NOT NULL,
  `precio_unitario` decimal(10,2) NOT NULL,
  `fecha_creacion` timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  `fecha_modificacion` timestamp NULL DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id_detalle`),
  KEY `id_movimiento` (`id_movimiento`),
  KEY `id_publicacion` (`id_publicacion`),
  CONSTRAINT `detallemovimiento_ibfk_1` FOREIGN KEY (`id_movimiento`) REFERENCES `movimiento` (`id_movimiento`),
  CONSTRAINT `detallemovimiento_ibfk_2` FOREIGN KEY (`id_publicacion`) REFERENCES `publicacion` (`id_publicacion`)
) ENGINE=InnoDB AUTO_INCREMENT=101 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `detallemovimiento`
--

LOCK TABLES `detallemovimiento` WRITE;
/*!40000 ALTER TABLE `detallemovimiento` DISABLE KEYS */;
INSERT INTO `detallemovimiento` VALUES (1,1,1,2,850.00,'2025-11-18 22:05:30',NULL),(2,2,2,2,1200.00,'2025-11-18 22:05:30',NULL),(3,3,3,2,750.00,'2025-11-18 22:05:30',NULL),(4,4,4,2,600.00,'2025-11-18 22:05:30',NULL),(5,5,5,2,1800.00,'2025-11-18 22:05:30',NULL),(6,6,6,2,1050.00,'2025-11-18 22:05:30',NULL),(7,7,7,2,600.00,'2025-11-18 22:05:30',NULL),(8,8,8,2,700.00,'2025-11-18 22:05:30',NULL),(9,9,9,2,500.00,'2025-11-18 22:05:30',NULL),(10,10,10,2,2000.00,'2025-11-18 22:05:30',NULL),(11,11,11,2,1000.00,'2025-11-18 22:05:30',NULL),(12,12,12,2,1600.00,'2025-11-18 22:05:30',NULL),(13,13,13,2,950.00,'2025-11-18 22:05:30',NULL),(14,14,14,2,1300.00,'2025-11-18 22:05:30',NULL),(15,15,15,2,550.00,'2025-11-18 22:05:30',NULL),(16,16,16,2,1400.00,'2025-11-18 22:05:30',NULL),(17,17,17,2,920.00,'2025-11-18 22:05:30',NULL),(18,18,18,2,1070.00,'2025-11-18 22:05:30',NULL),(19,19,19,2,770.00,'2025-11-18 22:05:30',NULL),(20,20,20,2,1820.00,'2025-11-18 22:05:30',NULL),(21,21,21,2,1070.00,'2025-11-18 22:05:30',NULL),(22,22,22,2,620.00,'2025-11-18 22:05:30',NULL),(23,23,23,2,720.00,'2025-11-18 22:05:30',NULL),(24,24,24,2,520.00,'2025-11-18 22:05:30',NULL),(25,25,25,2,2020.00,'2025-11-18 22:05:30',NULL),(26,26,26,2,1020.00,'2025-11-18 22:05:30',NULL),(27,27,27,2,1620.00,'2025-11-18 22:05:30',NULL),(28,28,28,2,970.00,'2025-11-18 22:05:30',NULL),(29,29,29,2,1320.00,'2025-11-18 22:05:30',NULL),(30,30,30,2,570.00,'2025-11-18 22:05:30',NULL),(31,31,31,2,1420.00,'2025-11-18 22:05:30',NULL),(32,32,32,2,940.00,'2025-11-18 22:05:30',NULL),(33,33,33,2,1090.00,'2025-11-18 22:05:30',NULL),(34,34,34,2,790.00,'2025-11-18 22:05:30',NULL),(35,35,35,2,1840.00,'2025-11-18 22:05:30',NULL),(36,36,36,2,1090.00,'2025-11-18 22:05:30',NULL),(37,37,37,2,640.00,'2025-11-18 22:05:30',NULL),(38,38,38,2,740.00,'2025-11-18 22:05:30',NULL),(39,39,39,2,540.00,'2025-11-18 22:05:30',NULL),(40,40,40,2,2040.00,'2025-11-18 22:05:30',NULL),(41,41,41,2,1040.00,'2025-11-18 22:05:30',NULL),(42,42,42,2,1640.00,'2025-11-18 22:05:30',NULL),(43,43,43,2,990.00,'2025-11-18 22:05:30',NULL),(44,44,44,2,1340.00,'2025-11-18 22:05:30',NULL),(45,45,45,2,590.00,'2025-11-18 22:05:30',NULL),(46,46,46,2,1440.00,'2025-11-18 22:05:30',NULL),(47,47,47,2,960.00,'2025-11-18 22:05:30',NULL),(48,48,48,2,1110.00,'2025-11-18 22:05:30',NULL),(49,49,49,2,810.00,'2025-11-18 22:05:30',NULL),(50,50,50,2,1860.00,'2025-11-18 22:05:30',NULL),(51,51,51,2,1110.00,'2025-11-18 22:05:30',NULL),(52,52,52,2,660.00,'2025-11-18 22:05:30',NULL),(53,53,53,2,760.00,'2025-11-18 22:05:30',NULL),(54,54,54,2,560.00,'2025-11-18 22:05:30',NULL),(55,55,55,2,2060.00,'2025-11-18 22:05:30',NULL),(56,56,56,2,1060.00,'2025-11-18 22:05:30',NULL),(57,57,57,2,1660.00,'2025-11-18 22:05:30',NULL),(58,58,58,2,1010.00,'2025-11-18 22:05:30',NULL),(59,59,59,2,1360.00,'2025-11-18 22:05:30',NULL),(60,60,60,2,610.00,'2025-11-18 22:05:30',NULL),(61,61,61,2,1460.00,'2025-11-18 22:05:30',NULL),(62,62,62,2,980.00,'2025-11-18 22:05:30',NULL),(63,63,63,2,1130.00,'2025-11-18 22:05:30',NULL),(64,64,64,2,830.00,'2025-11-18 22:05:30',NULL),(65,65,65,2,1880.00,'2025-11-18 22:05:30',NULL),(66,66,66,2,1130.00,'2025-11-18 22:05:30',NULL),(67,67,67,2,680.00,'2025-11-18 22:05:30',NULL),(68,68,68,2,780.00,'2025-11-18 22:05:30',NULL),(69,69,69,2,580.00,'2025-11-18 22:05:30',NULL),(70,70,70,2,2080.00,'2025-11-18 22:05:30',NULL),(71,71,71,2,1080.00,'2025-11-18 22:05:30',NULL),(72,72,72,2,1680.00,'2025-11-18 22:05:30',NULL),(73,73,73,2,1030.00,'2025-11-18 22:05:30',NULL),(74,74,74,2,1380.00,'2025-11-18 22:05:30',NULL),(75,75,75,2,630.00,'2025-11-18 22:05:30',NULL),(76,76,76,2,1480.00,'2025-11-18 22:05:30',NULL),(77,77,77,2,1000.00,'2025-11-18 22:05:30',NULL),(78,78,78,2,1150.00,'2025-11-18 22:05:30',NULL),(79,79,79,2,850.00,'2025-11-18 22:05:30',NULL),(80,80,80,2,1900.00,'2025-11-18 22:05:30',NULL),(81,81,81,2,1150.00,'2025-11-18 22:05:30',NULL),(82,82,82,2,700.00,'2025-11-18 22:05:30',NULL),(83,83,83,2,800.00,'2025-11-18 22:05:30',NULL),(84,84,84,2,600.00,'2025-11-18 22:05:30',NULL),(85,85,85,2,2100.00,'2025-11-18 22:05:30',NULL),(86,86,86,2,1100.00,'2025-11-18 22:05:30',NULL),(87,87,87,2,1700.00,'2025-11-18 22:05:30',NULL),(88,88,88,2,1050.00,'2025-11-18 22:05:30',NULL),(89,89,89,2,1400.00,'2025-11-18 22:05:30',NULL),(90,90,90,2,650.00,'2025-11-18 22:05:30',NULL),(91,91,91,2,1500.00,'2025-11-18 22:05:30',NULL),(92,92,92,2,1020.00,'2025-11-18 22:05:30',NULL),(93,93,93,2,1170.00,'2025-11-18 22:05:30',NULL),(94,94,94,2,870.00,'2025-11-18 22:05:30',NULL),(95,95,95,2,920.00,'2025-11-18 22:05:30',NULL),(96,96,96,2,670.00,'2025-11-18 22:05:30',NULL),(97,97,97,2,2170.00,'2025-11-18 22:05:30',NULL),(98,98,98,2,1170.00,'2025-11-18 22:05:30',NULL),(99,99,99,2,1770.00,'2025-11-18 22:05:30',NULL),(100,100,100,2,1200.00,'2025-11-18 22:05:30',NULL);
/*!40000 ALTER TABLE `detallemovimiento` ENABLE KEYS */;
UNLOCK TABLES;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = cp850 */ ;
/*!50003 SET character_set_results = cp850 */ ;
/*!50003 SET collation_connection  = cp850_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
/*!50003 CREATE*/ /*!50017 DEFINER=`root`@`localhost`*/ /*!50003 TRIGGER `actualizar_stock_despues_detalle` AFTER INSERT ON `detallemovimiento` FOR EACH ROW BEGIN     DECLARE tipo_movimiento_entrada BOOLEAN;     DECLARE ubicacion_afectada INT;     DECLARE cambio_cantidad INT;      SELECT         tm.es_entrada_stock,         s.id_ubicacion     INTO         tipo_movimiento_entrada, ubicacion_afectada     FROM movimiento m     JOIN tipomovimiento tm ON m.id_tipo_mov = tm.id_tipo_mov     JOIN empleado e ON m.id_empleado = e.id_empleado     JOIN sucursal s ON e.id_sucursal = s.id_sucursal     WHERE m.id_movimiento = NEW.id_movimiento;      SET cambio_cantidad = NEW.cantidad;     IF tipo_movimiento_entrada = FALSE THEN         SET cambio_cantidad = -NEW.cantidad;     END IF;      UPDATE stock     SET         cantidad = cantidad + cambio_cantidad,         fecha_actualizacion = CURRENT_TIMESTAMP     WHERE         id_publicacion = NEW.id_publicacion         AND id_ubicacion = ubicacion_afectada;  END */;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;

--
-- Table structure for table `edicion`
--

DROP TABLE IF EXISTS `edicion`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `edicion` (
  `id_edicion` int NOT NULL AUTO_INCREMENT,
  `id_publicacion` int NOT NULL,
  `numero_edicion` varchar(50) COLLATE utf8mb4_unicode_ci NOT NULL,
  `fecha_publicacion` date NOT NULL,
  `paginas` int DEFAULT NULL,
  `precio_sugerido` decimal(10,2) DEFAULT NULL,
  `fecha_modificacion` timestamp NULL DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP,
  `fecha_creacion` timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id_edicion`),
  KEY `id_publicacion` (`id_publicacion`),
  CONSTRAINT `edicion_ibfk_1` FOREIGN KEY (`id_publicacion`) REFERENCES `publicacion` (`id_publicacion`)
) ENGINE=InnoDB AUTO_INCREMENT=101 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `edicion`
--

LOCK TABLES `edicion` WRITE;
/*!40000 ALTER TABLE `edicion` DISABLE KEYS */;
INSERT INTO `edicion` VALUES (1,1,'1','2025-01-01',96,800.00,'2025-10-01 13:05:00','2025-10-01 13:00:00'),(2,2,'2','2025-01-02',100,815.00,'2025-10-01 13:05:01','2025-10-01 13:00:01'),(3,3,'3','2025-01-03',104,830.00,'2025-10-01 13:05:02','2025-10-01 13:00:02'),(4,4,'4','2025-01-04',108,845.00,'2025-10-01 13:05:03','2025-10-01 13:00:03'),(5,5,'5','2025-01-05',112,860.00,'2025-10-01 13:05:04','2025-10-01 13:00:04'),(6,6,'6','2025-01-06',116,875.00,'2025-10-01 13:05:05','2025-10-01 13:00:05'),(7,7,'7','2025-01-07',120,890.00,'2025-10-01 13:05:06','2025-10-01 13:00:06'),(8,8,'8','2025-01-08',124,905.00,'2025-10-01 13:05:07','2025-10-01 13:00:07'),(9,9,'9','2025-01-09',128,920.00,'2025-10-01 13:05:08','2025-10-01 13:00:08'),(10,10,'10','2025-01-10',132,935.00,'2025-10-01 13:05:09','2025-10-01 13:00:09'),(11,11,'11','2025-01-11',136,950.00,'2025-10-01 13:05:10','2025-10-01 13:00:10'),(12,12,'12','2025-01-12',140,965.00,'2025-10-01 13:05:11','2025-10-01 13:00:11'),(13,13,'13','2025-01-13',144,980.00,'2025-10-01 13:05:12','2025-10-01 13:00:12'),(14,14,'14','2025-01-14',148,995.00,'2025-10-01 13:05:13','2025-10-01 13:00:13'),(15,15,'15','2025-01-15',152,1010.00,'2025-10-01 13:05:14','2025-10-01 13:00:14'),(16,16,'16','2025-01-16',156,1025.00,'2025-10-01 13:05:15','2025-10-01 13:00:15'),(17,17,'17','2025-01-17',160,1040.00,'2025-10-01 13:05:16','2025-10-01 13:00:16'),(18,18,'18','2025-01-18',164,1055.00,'2025-10-01 13:05:17','2025-10-01 13:00:17'),(19,19,'19','2025-01-19',168,1070.00,'2025-10-01 13:05:18','2025-10-01 13:00:18'),(20,20,'20','2025-01-20',172,1085.00,'2025-10-01 13:05:19','2025-10-01 13:00:19'),(21,21,'21','2025-01-21',176,1100.00,'2025-10-01 13:05:20','2025-10-01 13:00:20'),(22,22,'22','2025-01-22',180,1115.00,'2025-10-01 13:05:21','2025-10-01 13:00:21'),(23,23,'23','2025-01-23',184,1130.00,'2025-10-01 13:05:22','2025-10-01 13:00:22'),(24,24,'24','2025-01-24',188,1145.00,'2025-10-01 13:05:23','2025-10-01 13:00:23'),(25,25,'25','2025-01-25',192,1160.00,'2025-10-01 13:05:24','2025-10-01 13:00:24'),(26,26,'26','2025-02-01',196,1175.00,'2025-10-01 13:05:25','2025-10-01 13:00:25'),(27,27,'27','2025-02-02',200,1190.00,'2025-10-01 13:05:26','2025-10-01 13:00:26'),(28,28,'28','2025-02-03',204,1205.00,'2025-10-01 13:05:27','2025-10-01 13:00:27'),(29,29,'29','2025-02-04',208,1220.00,'2025-10-01 13:05:28','2025-10-01 13:00:28'),(30,30,'30','2025-02-05',212,1235.00,'2025-10-01 13:05:29','2025-10-01 13:00:29'),(31,31,'31','2025-02-06',216,1250.00,'2025-10-01 13:05:30','2025-10-01 13:00:30'),(32,32,'32','2025-02-07',220,1265.00,'2025-10-01 13:05:31','2025-10-01 13:00:31'),(33,33,'33','2025-02-08',224,1280.00,'2025-10-01 13:05:32','2025-10-01 13:00:32'),(34,34,'34','2025-02-09',228,1295.00,'2025-10-01 13:05:33','2025-10-01 13:00:33'),(35,35,'35','2025-02-10',232,1310.00,'2025-10-01 13:05:34','2025-10-01 13:00:34'),(36,36,'36','2025-02-11',236,1325.00,'2025-10-01 13:05:35','2025-10-01 13:00:35'),(37,37,'37','2025-02-12',240,1340.00,'2025-10-01 13:05:36','2025-10-01 13:00:36'),(38,38,'38','2025-02-13',244,1355.00,'2025-10-01 13:05:37','2025-10-01 13:00:37'),(39,39,'39','2025-02-14',248,1370.00,'2025-10-01 13:05:38','2025-10-01 13:00:38'),(40,40,'40','2025-02-15',252,1385.00,'2025-10-01 13:05:39','2025-10-01 13:00:39'),(41,41,'41','2025-02-16',256,1400.00,'2025-10-01 13:05:40','2025-10-01 13:00:40'),(42,42,'42','2025-02-17',260,1415.00,'2025-10-01 13:05:41','2025-10-01 13:00:41'),(43,43,'43','2025-02-18',264,1430.00,'2025-10-01 13:05:42','2025-10-01 13:00:42'),(44,44,'44','2025-02-19',268,1445.00,'2025-10-01 13:05:43','2025-10-01 13:00:43'),(45,45,'45','2025-02-20',272,1460.00,'2025-10-01 13:05:44','2025-10-01 13:00:44'),(46,46,'46','2025-02-21',276,1475.00,'2025-10-01 13:05:45','2025-10-01 13:00:45'),(47,47,'47','2025-02-22',280,1490.00,'2025-10-01 13:05:46','2025-10-01 13:00:46'),(48,48,'48','2025-02-23',284,1505.00,'2025-10-01 13:05:47','2025-10-01 13:00:47'),(49,49,'49','2025-02-24',288,1520.00,'2025-10-01 13:05:48','2025-10-01 13:00:48'),(50,50,'50','2025-02-25',292,1535.00,'2025-10-01 13:05:49','2025-10-01 13:00:49'),(51,51,'51','2025-03-01',296,1550.00,'2025-10-01 13:05:50','2025-10-01 13:00:50'),(52,52,'52','2025-03-02',300,1565.00,'2025-10-01 13:05:51','2025-10-01 13:00:51'),(53,53,'53','2025-03-03',304,1580.00,'2025-10-01 13:05:52','2025-10-01 13:00:52'),(54,54,'54','2025-03-04',308,1595.00,'2025-10-01 13:05:53','2025-10-01 13:00:53'),(55,55,'55','2025-03-05',312,1610.00,'2025-10-01 13:05:54','2025-10-01 13:00:54'),(56,56,'56','2025-03-06',316,1625.00,'2025-10-01 13:05:55','2025-10-01 13:00:55'),(57,57,'57','2025-03-07',320,1640.00,'2025-10-01 13:05:56','2025-10-01 13:00:56'),(58,58,'58','2025-03-08',324,1655.00,'2025-10-01 13:05:57','2025-10-01 13:00:57'),(59,59,'59','2025-03-09',328,1670.00,'2025-10-01 13:05:58','2025-10-01 13:00:58'),(60,60,'60','2025-03-10',332,1685.00,'2025-10-01 13:05:59','2025-10-01 13:00:59'),(61,61,'61','2025-03-11',336,1700.00,'2025-10-01 13:06:00','2025-10-01 13:01:00'),(62,62,'62','2025-03-12',340,1715.00,'2025-10-01 13:06:01','2025-10-01 13:01:01'),(63,63,'63','2025-03-13',344,1730.00,'2025-10-01 13:06:02','2025-10-01 13:01:02'),(64,64,'64','2025-03-14',348,1745.00,'2025-10-01 13:06:03','2025-10-01 13:01:03'),(65,65,'65','2025-03-15',352,1760.00,'2025-10-01 13:06:04','2025-10-01 13:01:04'),(66,66,'66','2025-03-16',356,1775.00,'2025-10-01 13:06:05','2025-10-01 13:01:05'),(67,67,'67','2025-03-17',360,1790.00,'2025-10-01 13:06:06','2025-10-01 13:01:06'),(68,68,'68','2025-03-18',364,1805.00,'2025-10-01 13:06:07','2025-10-01 13:01:07'),(69,69,'69','2025-03-19',368,1820.00,'2025-10-01 13:06:08','2025-10-01 13:01:08'),(70,70,'70','2025-03-20',372,1835.00,'2025-10-01 13:06:09','2025-10-01 13:01:09'),(71,71,'71','2025-03-21',376,1850.00,'2025-10-01 13:06:10','2025-10-01 13:01:10'),(72,72,'72','2025-03-22',380,1865.00,'2025-10-01 13:06:11','2025-10-01 13:01:11'),(73,73,'73','2025-03-23',384,1880.00,'2025-10-01 13:06:12','2025-10-01 13:01:12'),(74,74,'74','2025-03-24',388,1895.00,'2025-10-01 13:06:13','2025-10-01 13:01:13'),(75,75,'75','2025-03-25',392,1910.00,'2025-10-01 13:06:14','2025-10-01 13:01:14'),(76,76,'76','2025-04-01',396,1925.00,'2025-10-01 13:06:15','2025-10-01 13:01:15'),(77,77,'77','2025-04-02',400,1940.00,'2025-10-01 13:06:16','2025-10-01 13:01:16'),(78,78,'78','2025-04-03',404,1955.00,'2025-10-01 13:06:17','2025-10-01 13:01:17'),(79,79,'79','2025-04-04',408,1970.00,'2025-10-01 13:06:18','2025-10-01 13:01:18'),(80,80,'80','2025-04-05',412,1985.00,'2025-10-01 13:06:19','2025-10-01 13:01:19'),(81,81,'81','2025-04-06',416,2000.00,'2025-10-01 13:06:20','2025-10-01 13:01:20'),(82,82,'82','2025-04-07',420,2015.00,'2025-10-01 13:06:21','2025-10-01 13:01:21'),(83,83,'83','2025-04-08',424,2030.00,'2025-10-01 13:06:22','2025-10-01 13:01:22'),(84,84,'84','2025-04-09',428,2045.00,'2025-10-01 13:06:23','2025-10-01 13:01:23'),(85,85,'85','2025-04-10',432,2060.00,'2025-10-01 13:06:24','2025-10-01 13:01:24'),(86,86,'86','2025-04-11',436,2075.00,'2025-10-01 13:06:25','2025-10-01 13:01:25'),(87,87,'87','2025-04-12',440,2090.00,'2025-10-01 13:06:26','2025-10-01 13:01:26'),(88,88,'88','2025-04-13',444,2105.00,'2025-10-01 13:06:27','2025-10-01 13:01:27'),(89,89,'89','2025-04-14',448,2120.00,'2025-10-01 13:06:28','2025-10-01 13:01:28'),(90,90,'90','2025-04-15',452,2135.00,'2025-10-01 13:06:29','2025-10-01 13:01:29'),(91,91,'91','2025-04-16',456,2150.00,'2025-10-01 13:06:30','2025-10-01 13:01:30'),(92,92,'92','2025-04-17',460,2165.00,'2025-10-01 13:06:31','2025-10-01 13:01:31'),(93,93,'93','2025-04-18',464,2180.00,'2025-10-01 13:06:32','2025-10-01 13:01:32'),(94,94,'94','2025-04-19',468,2195.00,'2025-10-01 13:06:33','2025-10-01 13:01:33'),(95,95,'95','2025-04-20',472,2210.00,'2025-10-01 13:06:34','2025-10-01 13:01:34'),(96,96,'96','2025-04-21',476,2225.00,'2025-10-01 13:06:35','2025-10-01 13:01:35'),(97,97,'97','2025-04-22',480,2240.00,'2025-10-01 13:06:36','2025-10-01 13:01:36'),(98,98,'98','2025-04-23',484,2255.00,'2025-10-01 13:06:37','2025-10-01 13:01:37'),(99,99,'99','2025-04-24',488,2270.00,'2025-10-01 13:06:38','2025-10-01 13:01:38'),(100,100,'100','2025-04-25',492,2285.00,'2025-10-01 13:06:39','2025-10-01 13:01:39');
/*!40000 ALTER TABLE `edicion` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `editorial`
--

DROP TABLE IF EXISTS `editorial`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `editorial` (
  `id_editorial` int NOT NULL AUTO_INCREMENT,
  `nombre` varchar(150) COLLATE utf8mb4_unicode_ci NOT NULL,
  `pais_origen` varchar(100) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `activo` tinyint(1) DEFAULT '1',
  `fecha_modificacion` timestamp NULL DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id_editorial`),
  UNIQUE KEY `nombre` (`nombre`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `editorial`
--

LOCK TABLES `editorial` WRITE;
/*!40000 ALTER TABLE `editorial` DISABLE KEYS */;
INSERT INTO `editorial` VALUES (1,'Atlántida',NULL,1,NULL),(2,'Planeta',NULL,1,NULL),(3,'Penguin',NULL,1,NULL);
/*!40000 ALTER TABLE `editorial` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `empleado`
--

DROP TABLE IF EXISTS `empleado`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `empleado` (
  `id_empleado` int NOT NULL AUTO_INCREMENT,
  `id_sucursal` int NOT NULL,
  `dni` varchar(20) COLLATE utf8mb4_unicode_ci NOT NULL,
  `nombre` varchar(50) COLLATE utf8mb4_unicode_ci NOT NULL,
  `apellido` varchar(50) COLLATE utf8mb4_unicode_ci NOT NULL,
  `email` varchar(100) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `activo` tinyint(1) NOT NULL DEFAULT '1',
  `fecha_creacion` timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  `fecha_modificacion` timestamp NULL DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id_empleado`),
  UNIQUE KEY `dni` (`dni`),
  UNIQUE KEY `email` (`email`),
  KEY `id_sucursal` (`id_sucursal`),
  CONSTRAINT `empleado_ibfk_1` FOREIGN KEY (`id_sucursal`) REFERENCES `sucursal` (`id_sucursal`)
) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `empleado`
--

LOCK TABLES `empleado` WRITE;
/*!40000 ALTER TABLE `empleado` DISABLE KEYS */;
INSERT INTO `empleado` VALUES (1,1,'11111111','María','López','maria.l@maribel.com',1,'2025-11-18 21:39:42',NULL),(2,2,'22222222','Juan','Pérez','juan.p@maribel.com',1,'2025-11-18 21:39:42',NULL),(3,3,'33333333','Ana','Gómez','ana.g@maribel.com',1,'2025-11-18 21:39:42',NULL),(4,1,'44444444','Pedro','Rodríguez','pedro.r@maribel.com',1,'2025-11-18 21:39:42',NULL);
/*!40000 ALTER TABLE `empleado` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `movimiento`
--

DROP TABLE IF EXISTS `movimiento`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `movimiento` (
  `id_movimiento` int NOT NULL AUTO_INCREMENT,
  `id_tipo_mov` int NOT NULL,
  `id_empleado` int NOT NULL,
  `fecha_movimiento` timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  `monto_total` decimal(10,2) NOT NULL,
  `activo` tinyint(1) NOT NULL DEFAULT '1',
  `fecha_modificacion` timestamp NULL DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id_movimiento`),
  KEY `id_tipo_mov` (`id_tipo_mov`),
  KEY `id_empleado` (`id_empleado`),
  CONSTRAINT `movimiento_ibfk_1` FOREIGN KEY (`id_tipo_mov`) REFERENCES `tipomovimiento` (`id_tipo_mov`),
  CONSTRAINT `movimiento_ibfk_2` FOREIGN KEY (`id_empleado`) REFERENCES `empleado` (`id_empleado`)
) ENGINE=InnoDB AUTO_INCREMENT=101 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `movimiento`
--

LOCK TABLES `movimiento` WRITE;
/*!40000 ALTER TABLE `movimiento` DISABLE KEYS */;
INSERT INTO `movimiento` VALUES (1,1,1,'2025-11-01 03:00:00',1700.00,1,NULL),(2,1,2,'2025-11-01 03:00:00',2400.00,1,NULL),(3,1,3,'2025-11-01 03:00:00',1500.00,1,NULL),(4,1,4,'2025-11-01 03:00:00',1200.00,1,NULL),(5,1,1,'2025-11-02 03:00:00',3600.00,1,NULL),(6,1,2,'2025-11-02 03:00:00',2100.00,1,NULL),(7,1,3,'2025-11-02 03:00:00',1200.00,1,NULL),(8,1,4,'2025-11-02 03:00:00',1400.00,1,NULL),(9,1,1,'2025-11-03 03:00:00',1000.00,1,NULL),(10,1,2,'2025-11-03 03:00:00',4000.00,1,NULL),(11,1,3,'2025-11-03 03:00:00',2000.00,1,NULL),(12,1,4,'2025-11-03 03:00:00',3200.00,1,NULL),(13,1,1,'2025-11-04 03:00:00',1900.00,1,NULL),(14,1,2,'2025-11-04 03:00:00',2600.00,1,NULL),(15,1,3,'2025-11-04 03:00:00',1100.00,1,NULL),(16,1,4,'2025-11-04 03:00:00',2800.00,1,NULL),(17,1,1,'2025-11-05 03:00:00',1840.00,1,NULL),(18,1,2,'2025-11-05 03:00:00',2140.00,1,NULL),(19,1,3,'2025-11-05 03:00:00',1540.00,1,NULL),(20,1,4,'2025-11-05 03:00:00',3640.00,1,NULL),(21,1,1,'2025-11-06 03:00:00',2140.00,1,NULL),(22,1,2,'2025-11-06 03:00:00',1240.00,1,NULL),(23,1,3,'2025-11-06 03:00:00',1440.00,1,NULL),(24,1,4,'2025-11-06 03:00:00',1040.00,1,NULL),(25,1,1,'2025-11-07 03:00:00',4040.00,1,NULL),(26,1,2,'2025-11-07 03:00:00',2040.00,1,NULL),(27,1,3,'2025-11-07 03:00:00',3240.00,1,NULL),(28,1,4,'2025-11-07 03:00:00',1940.00,1,NULL),(29,1,1,'2025-11-08 03:00:00',2640.00,1,NULL),(30,1,2,'2025-11-08 03:00:00',1340.00,1,NULL),(31,1,3,'2025-11-08 03:00:00',2840.00,1,NULL),(32,1,4,'2025-11-08 03:00:00',1880.00,1,NULL),(33,1,1,'2025-11-09 03:00:00',2180.00,1,NULL),(34,1,2,'2025-11-09 03:00:00',1580.00,1,NULL),(35,1,3,'2025-11-09 03:00:00',3680.00,1,NULL),(36,1,4,'2025-11-09 03:00:00',2180.00,1,NULL),(37,1,1,'2025-11-10 03:00:00',1280.00,1,NULL),(38,1,2,'2025-11-10 03:00:00',1480.00,1,NULL),(39,1,3,'2025-11-10 03:00:00',1080.00,1,NULL),(40,1,4,'2025-11-10 03:00:00',4080.00,1,NULL),(41,1,1,'2025-11-11 03:00:00',2080.00,1,NULL),(42,1,2,'2025-11-11 03:00:00',3280.00,1,NULL),(43,1,3,'2025-11-11 03:00:00',1980.00,1,NULL),(44,1,4,'2025-11-11 03:00:00',2680.00,1,NULL),(45,1,1,'2025-11-12 03:00:00',1380.00,1,NULL),(46,1,2,'2025-11-12 03:00:00',2880.00,1,NULL),(47,1,3,'2025-11-12 03:00:00',1820.00,1,NULL),(48,1,4,'2025-11-12 03:00:00',2120.00,1,NULL),(49,1,1,'2025-11-13 03:00:00',1520.00,1,NULL),(50,1,2,'2025-11-13 03:00:00',3620.00,1,NULL),(51,1,3,'2025-11-13 03:00:00',2120.00,1,NULL),(52,1,4,'2025-11-13 03:00:00',1220.00,1,NULL),(53,1,1,'2025-11-14 03:00:00',1420.00,1,NULL),(54,1,2,'2025-11-14 03:00:00',1020.00,1,NULL),(55,1,3,'2025-11-14 03:00:00',4020.00,1,NULL),(56,1,4,'2025-11-14 03:00:00',2020.00,1,NULL),(57,1,1,'2025-11-15 03:00:00',3220.00,1,NULL),(58,1,2,'2025-11-15 03:00:00',1920.00,1,NULL),(59,1,3,'2025-11-15 03:00:00',2620.00,1,NULL),(60,1,4,'2025-11-15 03:00:00',1320.00,1,NULL),(61,1,1,'2025-11-16 03:00:00',2820.00,1,NULL),(62,1,2,'2025-11-16 03:00:00',1860.00,1,NULL),(63,1,3,'2025-11-16 03:00:00',2160.00,1,NULL),(64,1,4,'2025-11-16 03:00:00',1560.00,1,NULL),(65,1,1,'2025-11-17 03:00:00',3660.00,1,NULL),(66,1,2,'2025-11-17 03:00:00',2160.00,1,NULL),(67,1,3,'2025-11-17 03:00:00',1260.00,1,NULL),(68,1,4,'2025-11-17 03:00:00',1460.00,1,NULL),(69,1,1,'2025-11-18 03:00:00',1060.00,1,NULL),(70,1,2,'2025-11-18 03:00:00',4060.00,1,NULL),(71,1,3,'2025-11-18 03:00:00',2060.00,1,NULL),(72,1,4,'2025-11-18 03:00:00',3260.00,1,NULL),(73,1,1,'2025-11-19 03:00:00',1960.00,1,NULL),(74,1,2,'2025-11-19 03:00:00',2660.00,1,NULL),(75,1,3,'2025-11-19 03:00:00',1160.00,1,NULL),(76,1,4,'2025-11-19 03:00:00',2860.00,1,NULL),(77,1,1,'2025-11-20 03:00:00',1940.00,1,NULL),(78,1,2,'2025-11-20 03:00:00',2240.00,1,NULL),(79,1,3,'2025-11-20 03:00:00',1640.00,1,NULL),(80,1,4,'2025-11-20 03:00:00',3740.00,1,NULL),(81,1,1,'2025-11-21 03:00:00',2240.00,1,NULL),(82,1,2,'2025-11-21 03:00:00',1340.00,1,NULL),(83,1,3,'2025-11-21 03:00:00',1540.00,1,NULL),(84,1,4,'2025-11-21 03:00:00',1140.00,1,NULL),(85,1,1,'2025-11-22 03:00:00',4140.00,1,NULL),(86,1,2,'2025-11-22 03:00:00',2140.00,1,NULL),(87,1,3,'2025-11-22 03:00:00',3340.00,1,NULL),(88,1,4,'2025-11-22 03:00:00',2040.00,1,NULL),(89,1,1,'2025-11-23 03:00:00',2740.00,1,NULL),(90,1,2,'2025-11-23 03:00:00',1440.00,1,NULL),(91,1,3,'2025-11-23 03:00:00',2940.00,1,NULL),(92,1,4,'2025-11-23 03:00:00',1980.00,1,NULL),(93,1,1,'2025-11-24 03:00:00',2280.00,1,NULL),(94,1,2,'2025-11-24 03:00:00',1680.00,1,NULL),(95,1,3,'2025-11-24 03:00:00',3780.00,1,NULL),(96,1,4,'2025-11-24 03:00:00',2280.00,1,NULL),(97,1,1,'2025-11-25 03:00:00',1380.00,1,NULL),(98,1,2,'2025-11-25 03:00:00',1580.00,1,NULL),(99,1,3,'2025-11-25 03:00:00',1180.00,1,NULL),(100,1,4,'2025-11-25 03:00:00',4180.00,1,NULL);
/*!40000 ALTER TABLE `movimiento` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `precio_historial`
--

DROP TABLE IF EXISTS `precio_historial`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `precio_historial` (
  `id_hist` int NOT NULL AUTO_INCREMENT,
  `id_publicacion` int NOT NULL,
  `precio_anterior` decimal(10,2) NOT NULL,
  `precio_nuevo` decimal(10,2) NOT NULL,
  `fecha_cambio` timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  `fecha_creacion` timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  `fecha_modificacion` timestamp NULL DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id_hist`),
  KEY `id_publicacion` (`id_publicacion`),
  CONSTRAINT `precio_historial_ibfk_1` FOREIGN KEY (`id_publicacion`) REFERENCES `publicacion` (`id_publicacion`)
) ENGINE=InnoDB AUTO_INCREMENT=101 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `precio_historial`
--

LOCK TABLES `precio_historial` WRITE;
/*!40000 ALTER TABLE `precio_historial` DISABLE KEYS */;
INSERT INTO `precio_historial` VALUES (1,1,800.00,850.00,'2025-10-01 03:00:00','2025-11-18 22:06:33',NULL),(2,2,1150.00,1200.00,'2025-10-02 03:00:00','2025-11-18 22:06:33',NULL),(3,3,700.00,750.00,'2025-10-03 03:00:00','2025-11-18 22:06:33',NULL),(4,4,550.00,600.00,'2025-10-04 03:00:00','2025-11-18 22:06:33',NULL),(5,5,1750.00,1800.00,'2025-10-05 03:00:00','2025-11-18 22:06:33',NULL),(6,6,1000.00,1050.00,'2025-10-06 03:00:00','2025-11-18 22:06:33',NULL),(7,7,550.00,600.00,'2025-10-07 03:00:00','2025-11-18 22:06:33',NULL),(8,8,650.00,700.00,'2025-10-08 03:00:00','2025-11-18 22:06:33',NULL),(9,9,450.00,500.00,'2025-10-09 03:00:00','2025-11-18 22:06:33',NULL),(10,10,1950.00,2000.00,'2025-10-10 03:00:00','2025-11-18 22:06:33',NULL),(11,11,950.00,1000.00,'2025-10-11 03:00:00','2025-11-18 22:06:33',NULL),(12,12,1550.00,1600.00,'2025-10-12 03:00:00','2025-11-18 22:06:33',NULL),(13,13,900.00,950.00,'2025-10-13 03:00:00','2025-11-18 22:06:33',NULL),(14,14,1250.00,1300.00,'2025-10-14 03:00:00','2025-11-18 22:06:33',NULL),(15,15,500.00,550.00,'2025-10-15 03:00:00','2025-11-18 22:06:33',NULL),(16,16,1350.00,1400.00,'2025-10-16 03:00:00','2025-11-18 22:06:33',NULL),(17,17,870.00,920.00,'2025-10-17 03:00:00','2025-11-18 22:06:33',NULL),(18,18,1020.00,1070.00,'2025-10-18 03:00:00','2025-11-18 22:06:33',NULL),(19,19,720.00,770.00,'2025-10-19 03:00:00','2025-11-18 22:06:33',NULL),(20,20,1770.00,1820.00,'2025-10-20 03:00:00','2025-11-18 22:06:33',NULL),(21,21,1020.00,1070.00,'2025-10-21 03:00:00','2025-11-18 22:06:33',NULL),(22,22,570.00,620.00,'2025-10-22 03:00:00','2025-11-18 22:06:33',NULL),(23,23,670.00,720.00,'2025-10-23 03:00:00','2025-11-18 22:06:33',NULL),(24,24,470.00,520.00,'2025-10-24 03:00:00','2025-11-18 22:06:33',NULL),(25,25,1970.00,2020.00,'2025-10-25 03:00:00','2025-11-18 22:06:33',NULL),(26,26,970.00,1020.00,'2025-10-26 03:00:00','2025-11-18 22:06:33',NULL),(27,27,1570.00,1620.00,'2025-10-27 03:00:00','2025-11-18 22:06:33',NULL),(28,28,920.00,970.00,'2025-10-28 03:00:00','2025-11-18 22:06:33',NULL),(29,29,1270.00,1320.00,'2025-10-29 03:00:00','2025-11-18 22:06:33',NULL),(30,30,520.00,570.00,'2025-10-30 03:00:00','2025-11-18 22:06:33',NULL),(31,31,1370.00,1420.00,'2025-10-31 03:00:00','2025-11-18 22:06:33',NULL),(32,32,890.00,940.00,'2025-11-01 03:00:00','2025-11-18 22:06:33',NULL),(33,33,1040.00,1090.00,'2025-11-02 03:00:00','2025-11-18 22:06:33',NULL),(34,34,740.00,790.00,'2025-11-03 03:00:00','2025-11-18 22:06:33',NULL),(35,35,1790.00,1840.00,'2025-11-04 03:00:00','2025-11-18 22:06:33',NULL),(36,36,1040.00,1090.00,'2025-11-05 03:00:00','2025-11-18 22:06:33',NULL),(37,37,590.00,640.00,'2025-11-06 03:00:00','2025-11-18 22:06:33',NULL),(38,38,690.00,740.00,'2025-11-07 03:00:00','2025-11-18 22:06:33',NULL),(39,39,490.00,540.00,'2025-11-08 03:00:00','2025-11-18 22:06:33',NULL),(40,40,1990.00,2040.00,'2025-11-09 03:00:00','2025-11-18 22:06:33',NULL),(41,41,990.00,1040.00,'2025-11-10 03:00:00','2025-11-18 22:06:33',NULL),(42,42,1590.00,1640.00,'2025-11-11 03:00:00','2025-11-18 22:06:33',NULL),(43,43,940.00,990.00,'2025-11-12 03:00:00','2025-11-18 22:06:33',NULL),(44,44,1290.00,1340.00,'2025-11-13 03:00:00','2025-11-18 22:06:33',NULL),(45,45,540.00,590.00,'2025-11-14 03:00:00','2025-11-18 22:06:33',NULL),(46,46,1390.00,1440.00,'2025-11-15 03:00:00','2025-11-18 22:06:33',NULL),(47,47,910.00,960.00,'2025-11-16 03:00:00','2025-11-18 22:06:33',NULL),(48,48,1060.00,1110.00,'2025-11-17 03:00:00','2025-11-18 22:06:33',NULL),(49,49,760.00,810.00,'2025-11-18 03:00:00','2025-11-18 22:06:33',NULL),(50,50,1810.00,1860.00,'2025-11-19 03:00:00','2025-11-18 22:06:33',NULL),(51,51,1060.00,1110.00,'2025-11-20 03:00:00','2025-11-18 22:06:33',NULL),(52,52,610.00,660.00,'2025-11-21 03:00:00','2025-11-18 22:06:33',NULL),(53,53,710.00,760.00,'2025-11-22 03:00:00','2025-11-18 22:06:33',NULL),(54,54,510.00,560.00,'2025-11-23 03:00:00','2025-11-18 22:06:33',NULL),(55,55,2010.00,2060.00,'2025-11-24 03:00:00','2025-11-18 22:06:33',NULL),(56,56,1010.00,1060.00,'2025-11-25 03:00:00','2025-11-18 22:06:33',NULL),(57,57,1610.00,1660.00,'2025-11-26 03:00:00','2025-11-18 22:06:33',NULL),(58,58,960.00,1010.00,'2025-11-27 03:00:00','2025-11-18 22:06:33',NULL),(59,59,1310.00,1360.00,'2025-11-28 03:00:00','2025-11-18 22:06:33',NULL),(60,60,560.00,610.00,'2025-11-29 03:00:00','2025-11-18 22:06:33',NULL),(61,61,1410.00,1460.00,'2025-11-30 03:00:00','2025-11-18 22:06:33',NULL),(62,62,930.00,980.00,'2025-12-01 03:00:00','2025-11-18 22:06:33',NULL),(63,63,1080.00,1130.00,'2025-12-02 03:00:00','2025-11-18 22:06:33',NULL),(64,64,780.00,830.00,'2025-12-03 03:00:00','2025-11-18 22:06:33',NULL),(65,65,1830.00,1880.00,'2025-12-04 03:00:00','2025-11-18 22:06:33',NULL),(66,66,1080.00,1130.00,'2025-12-05 03:00:00','2025-11-18 22:06:33',NULL),(67,67,630.00,680.00,'2025-12-06 03:00:00','2025-11-18 22:06:33',NULL),(68,68,730.00,780.00,'2025-12-07 03:00:00','2025-11-18 22:06:33',NULL),(69,69,530.00,580.00,'2025-12-08 03:00:00','2025-11-18 22:06:33',NULL),(70,70,2030.00,2080.00,'2025-12-09 03:00:00','2025-11-18 22:06:33',NULL),(71,71,1030.00,1080.00,'2025-12-10 03:00:00','2025-11-18 22:06:33',NULL),(72,72,1630.00,1680.00,'2025-12-11 03:00:00','2025-11-18 22:06:33',NULL),(73,73,980.00,1030.00,'2025-12-12 03:00:00','2025-11-18 22:06:33',NULL),(74,74,1330.00,1380.00,'2025-12-13 03:00:00','2025-11-18 22:06:33',NULL),(75,75,580.00,630.00,'2025-12-14 03:00:00','2025-11-18 22:06:33',NULL),(76,76,1430.00,1480.00,'2025-12-15 03:00:00','2025-11-18 22:06:33',NULL),(77,77,950.00,1000.00,'2025-12-16 03:00:00','2025-11-18 22:06:33',NULL),(78,78,1100.00,1150.00,'2025-12-17 03:00:00','2025-11-18 22:06:33',NULL),(79,79,800.00,850.00,'2025-12-18 03:00:00','2025-11-18 22:06:33',NULL),(80,80,1850.00,1900.00,'2025-12-19 03:00:00','2025-11-18 22:06:33',NULL),(81,81,1100.00,1150.00,'2025-12-20 03:00:00','2025-11-18 22:06:33',NULL),(82,82,650.00,700.00,'2025-12-21 03:00:00','2025-11-18 22:06:33',NULL),(83,83,750.00,800.00,'2025-12-22 03:00:00','2025-11-18 22:06:33',NULL),(84,84,550.00,600.00,'2025-12-23 03:00:00','2025-11-18 22:06:33',NULL),(85,85,2050.00,2100.00,'2025-12-24 03:00:00','2025-11-18 22:06:33',NULL),(86,86,1050.00,1100.00,'2025-12-25 03:00:00','2025-11-18 22:06:33',NULL),(87,87,1650.00,1700.00,'2025-12-26 03:00:00','2025-11-18 22:06:33',NULL),(88,88,1000.00,1050.00,'2025-12-27 03:00:00','2025-11-18 22:06:33',NULL),(89,89,1350.00,1400.00,'2025-12-28 03:00:00','2025-11-18 22:06:33',NULL),(90,90,600.00,650.00,'2025-12-29 03:00:00','2025-11-18 22:06:33',NULL),(91,91,1450.00,1500.00,'2025-12-30 03:00:00','2025-11-18 22:06:33',NULL),(92,92,970.00,1020.00,'2025-12-31 03:00:00','2025-11-18 22:06:33',NULL),(93,93,1120.00,1170.00,'2026-01-01 03:00:00','2025-11-18 22:06:33',NULL),(94,94,820.00,870.00,'2026-01-02 03:00:00','2025-11-18 22:06:33',NULL),(95,95,870.00,920.00,'2026-01-03 03:00:00','2025-11-18 22:06:33',NULL),(96,96,620.00,670.00,'2026-01-04 03:00:00','2025-11-18 22:06:33',NULL),(97,97,2120.00,2170.00,'2026-01-05 03:00:00','2025-11-18 22:06:33',NULL),(98,98,1120.00,1170.00,'2026-01-06 03:00:00','2025-11-18 22:06:33',NULL),(99,99,1720.00,1770.00,'2026-01-07 03:00:00','2025-11-18 22:06:33',NULL),(100,100,1150.00,1200.00,'2026-01-08 03:00:00','2025-11-18 22:06:33',NULL);
/*!40000 ALTER TABLE `precio_historial` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `publicacion`
--

DROP TABLE IF EXISTS `publicacion`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `publicacion` (
  `id_publicacion` int NOT NULL AUTO_INCREMENT,
  `id_editorial` int NOT NULL,
  `id_tipo_publicacion` int NOT NULL,
  `id_categoria` int NOT NULL,
  `titulo` varchar(200) COLLATE utf8mb4_unicode_ci NOT NULL,
  `codigo_barras` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `precio_costo` decimal(10,2) NOT NULL,
  `precio_venta` decimal(10,2) NOT NULL,
  `stock_minimo` int DEFAULT '0',
  `activo` tinyint(1) DEFAULT '1',
  `fecha_creacion` timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  `fecha_modificacion` timestamp NULL DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id_publicacion`),
  UNIQUE KEY `codigo_barras` (`codigo_barras`),
  KEY `id_editorial` (`id_editorial`),
  KEY `id_tipo_publicacion` (`id_tipo_publicacion`),
  KEY `id_categoria` (`id_categoria`),
  CONSTRAINT `publicacion_ibfk_1` FOREIGN KEY (`id_editorial`) REFERENCES `editorial` (`id_editorial`),
  CONSTRAINT `publicacion_ibfk_2` FOREIGN KEY (`id_tipo_publicacion`) REFERENCES `tipopublicacion` (`id_tipo_publicacion`),
  CONSTRAINT `publicacion_ibfk_3` FOREIGN KEY (`id_categoria`) REFERENCES `categoria_publicacion` (`id_categoria`)
) ENGINE=InnoDB AUTO_INCREMENT=101 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `publicacion`
--

LOCK TABLES `publicacion` WRITE;
/*!40000 ALTER TABLE `publicacion` DISABLE KEYS */;
INSERT INTO `publicacion` VALUES (1,1,1,1,'Revista Actualidad Nro. 001','779123456001',500.00,850.00,0,1,'2025-11-18 21:51:28',NULL),(2,2,2,2,'Libro de Ficción Nro. 002','779123456002',700.00,1200.00,0,1,'2025-11-18 21:51:28',NULL),(3,3,3,3,'Manga Deportivo Nro. 003','779123456003',450.00,750.00,0,1,'2025-11-18 21:51:28',NULL),(4,1,1,4,'Fascículo Infantil Nro. 004','779123456004',300.00,600.00,0,1,'2025-11-18 21:51:28',NULL),(5,2,2,1,'Libro de Historia Nro. 005','779123456005',1000.00,1800.00,0,1,'2025-11-18 21:51:28',NULL),(6,3,3,2,'Cómic de Ficción Nro. 006','779123456006',600.00,1050.00,0,1,'2025-11-18 21:51:28',NULL),(7,1,1,3,'Revista Fútbol Nro. 007','779123456007',350.00,600.00,0,1,'2025-11-18 21:51:28',NULL),(8,2,2,4,'Libro Cuentos Infantiles Nro. 008','779123456008',400.00,700.00,0,1,'2025-11-18 21:51:28',NULL),(9,3,3,1,'Revista Tecnología Nro. 009','779123456009',300.00,500.00,0,1,'2025-11-18 21:51:28',NULL),(10,1,1,2,'Revista Literatura Nro. 010','779123456010',1100.00,2000.00,0,1,'2025-11-18 21:51:28',NULL),(11,2,2,3,'Libro Biografías Nro. 011','779123456011',600.00,1000.00,0,1,'2025-11-18 21:51:28',NULL),(12,3,3,4,'Manga Infantil Volumen Nro. 012','779123456012',900.00,1600.00,0,1,'2025-11-18 21:51:28',NULL),(13,1,1,1,'Revista Economía Nro. 013','779123456013',550.00,950.00,0,1,'2025-11-18 21:51:28',NULL),(14,2,2,2,'Novela Romántica Nro. 014','779123456014',750.00,1300.00,0,1,'2025-11-18 21:51:28',NULL),(15,3,3,3,'Cómic de Superhéroes Nro. 015','779123456015',300.00,550.00,0,1,'2025-11-18 21:51:28',NULL),(16,1,1,4,'Revista Juegos Nro. 016','779123456016',800.00,1400.00,0,1,'2025-11-18 21:51:28',NULL),(17,2,2,1,'Libro Actualidad Política Nro. 017','779123456017',520.00,920.00,0,1,'2025-11-18 21:51:28',NULL),(18,3,3,2,'Manga de Terror Nro. 018','779123456018',620.00,1070.00,0,1,'2025-11-18 21:51:28',NULL),(19,1,1,3,'Revista Motor Nro. 019','779123456019',420.00,770.00,0,1,'2025-11-18 21:51:28',NULL),(20,2,2,4,'Libro Educativo Nro. 020','779123456020',1020.00,1820.00,0,1,'2025-11-18 21:51:28',NULL),(21,3,3,1,'Revista Música Nro. 021','779123456021',620.00,1070.00,0,1,'2025-11-18 21:51:28',NULL),(22,1,1,2,'Fascículo Misterio Nro. 022','779123456022',370.00,620.00,0,1,'2025-11-18 21:51:28',NULL),(23,2,2,3,'Libro Historia del Arte Nro. 023','779123456023',420.00,720.00,0,1,'2025-11-18 21:51:28',NULL),(24,3,3,4,'Manga Aventuras Nro. 024','779123456024',320.00,520.00,0,1,'2025-11-18 21:51:28',NULL),(25,1,1,1,'Revista Ciencia Nro. 025','779123456025',1120.00,2020.00,0,1,'2025-11-18 21:51:28',NULL),(26,2,2,2,'Libro Poesía Nro. 026','779123456026',620.00,1020.00,0,1,'2025-11-18 21:51:28',NULL),(27,3,3,3,'Cómic Clásico Nro. 027','779123456027',920.00,1620.00,0,1,'2025-11-18 21:51:28',NULL),(28,1,1,4,'Revista para Padres Nro. 028','779123456028',570.00,970.00,0,1,'2025-11-18 21:51:28',NULL),(29,2,2,1,'Libro de Finanzas Nro. 029','779123456029',770.00,1320.00,0,1,'2025-11-18 21:51:28',NULL),(30,3,3,2,'Manga Sci-Fi Nro. 030','779123456030',320.00,570.00,0,1,'2025-11-18 21:51:28',NULL),(31,1,1,3,'Revista Cocina Nro. 031','779123456031',820.00,1420.00,0,1,'2025-11-18 21:51:28',NULL),(32,2,2,4,'Libro de Dibujo Nro. 032','779123456032',540.00,940.00,0,1,'2025-11-18 21:51:28',NULL),(33,3,3,1,'Revista Moda Nro. 033','779123456033',640.00,1090.00,0,1,'2025-11-18 21:51:28',NULL),(34,1,1,2,'Fascículo Arquitectura Nro. 034','779123456034',440.00,790.00,0,1,'2025-11-18 21:51:28',NULL),(35,2,2,3,'Libro Deportes Extremos Nro. 035','779123456035',1040.00,1840.00,0,1,'2025-11-18 21:51:28',NULL),(36,3,3,4,'Manga Fantasía Nro. 036','779123456036',640.00,1090.00,0,1,'2025-11-18 21:51:28',NULL),(37,1,1,1,'Revista Viajes Nro. 037','779123456037',390.00,640.00,0,1,'2025-11-18 21:51:28',NULL),(38,2,2,2,'Libro de Autoayuda Nro. 038','779123456038',440.00,740.00,0,1,'2025-11-18 21:51:28',NULL),(39,3,3,3,'Cómic de Ciencia Nro. 039','779123456039',340.00,540.00,0,1,'2025-11-18 21:51:28',NULL),(40,1,1,4,'Revista Mascotas Nro. 040','779123456040',1140.00,2040.00,0,1,'2025-11-18 21:51:28',NULL),(41,2,2,1,'Libro de Filosofía Nro. 041','779123456041',640.00,1040.00,0,1,'2025-11-18 21:51:28',NULL),(42,3,3,2,'Manga Aventura Épica Nro. 042','779123456042',940.00,1640.00,0,1,'2025-11-18 21:51:28',NULL),(43,1,1,3,'Revista Caza y Pesca Nro. 043','779123456043',590.00,990.00,0,1,'2025-11-18 21:51:28',NULL),(44,2,2,4,'Libro de Jardinería Nro. 044','779123456044',790.00,1340.00,0,1,'2025-11-18 21:51:28',NULL),(45,3,3,1,'Cómic Histórico Nro. 045','779123456045',340.00,590.00,0,1,'2025-11-18 21:51:28',NULL),(46,1,1,2,'Revista de Arte Contemporáneo Nro. 046','779123456046',840.00,1440.00,0,1,'2025-11-18 21:51:28',NULL),(47,2,2,3,'Libro de Programación Nro. 047','779123456047',560.00,960.00,0,1,'2025-11-18 21:51:28',NULL),(48,3,3,4,'Manga Cómico Nro. 048','779123456048',660.00,1110.00,0,1,'2025-11-18 21:51:28',NULL),(49,1,1,1,'Revista Emprendedores Nro. 049','779123456049',460.00,810.00,0,1,'2025-11-18 21:51:28',NULL),(50,2,2,2,'Libro de Cocina Gourmet Nro. 050','779123456050',1060.00,1860.00,0,1,'2025-11-18 21:51:28',NULL),(51,3,3,3,'Fascículo Modelismo Nro. 051','779123456051',660.00,1110.00,0,1,'2025-11-18 21:51:28',NULL),(52,1,1,4,'Revista Ciencias Naturales Nro. 052','779123456052',410.00,660.00,0,1,'2025-11-18 21:51:28',NULL),(53,2,2,1,'Libro Geografía Nro. 053','779123456053',460.00,760.00,0,1,'2025-11-18 21:51:28',NULL),(54,3,3,2,'Manga Drama Nro. 054','779123456054',360.00,560.00,0,1,'2025-11-18 21:51:28',NULL),(55,1,1,3,'Revista Ajedrez Nro. 055','779123456055',1160.00,2060.00,0,1,'2025-11-18 21:51:28',NULL),(56,2,2,4,'Libro de Biología Marina Nro. 056','779123456056',660.00,1060.00,0,1,'2025-11-18 21:51:28',NULL),(57,3,3,1,'Cómic de Aventura Nro. 057','779123456057',960.00,1660.00,0,1,'2025-11-18 21:51:28',NULL),(58,1,1,2,'Revista de Diseño de Interiores Nro. 058','779123456058',610.00,1010.00,0,1,'2025-11-18 21:51:28',NULL),(59,2,2,3,'Libro de Fotografía Nro. 059','779123456059',810.00,1360.00,0,1,'2025-11-18 21:51:28',NULL),(60,3,3,4,'Manga Histórico Nro. 060','779123456060',360.00,610.00,0,1,'2025-11-18 21:51:28',NULL),(61,1,1,1,'Revista Marketing Nro. 061','779123456061',860.00,1460.00,0,1,'2025-11-18 21:51:28',NULL),(62,2,2,2,'Libro de Leyendas Nro. 062','779123456062',580.00,980.00,0,1,'2025-11-18 21:51:28',NULL),(63,3,3,3,'Fascículo de Colección Nro. 063','779123456063',680.00,1130.00,0,1,'2025-11-18 21:51:28',NULL),(64,1,1,4,'Revista Manualidades Nro. 064','779123456064',480.00,830.00,0,1,'2025-11-18 21:51:28',NULL),(65,2,2,1,'Libro de Liderazgo Nro. 065','779123456065',1080.00,1880.00,0,1,'2025-11-18 21:51:28',NULL),(66,3,3,2,'Manga Ciencia Ficción Nro. 066','779123456066',680.00,1130.00,0,1,'2025-11-18 21:51:28',NULL),(67,1,1,3,'Revista Fitness Nro. 067','779123456067',430.00,680.00,0,1,'2025-11-18 21:51:28',NULL),(68,2,2,4,'Libro de Adivinanzas Nro. 068','779123456068',480.00,780.00,0,1,'2025-11-18 21:51:28',NULL),(69,3,3,1,'Revista Negocios Nro. 069','779123456069',380.00,580.00,0,1,'2025-11-18 21:51:28',NULL),(70,1,1,2,'Libro de Historia Argentina Nro. 070','779123456070',1180.00,2080.00,0,1,'2025-11-18 21:51:28',NULL),(71,2,2,3,'Fascículo Coche Clásico Nro. 071','779123456071',680.00,1080.00,0,1,'2025-11-18 21:51:28',NULL),(72,3,3,4,'Manga Deportivo Fútbol Nro. 072','779123456072',980.00,1680.00,0,1,'2025-11-18 21:51:28',NULL),(73,1,1,1,'Revista Finanzas Personales Nro. 073','779123456073',630.00,1030.00,0,1,'2025-11-18 21:51:28',NULL),(74,2,2,2,'Novela Intriga Nro. 074','779123456074',830.00,1380.00,0,1,'2025-11-18 21:51:28',NULL),(75,3,3,3,'Cómic de Humor Nro. 075','779123456075',380.00,630.00,0,1,'2025-11-18 21:51:28',NULL),(76,1,1,4,'Revista para Niños Nro. 076','779123456076',880.00,1480.00,0,1,'2025-11-18 21:51:28',NULL),(77,2,2,1,'Libro de Astrología Nro. 077','779123456077',600.00,1000.00,0,1,'2025-11-18 21:51:28',NULL),(78,3,3,2,'Manga Paranormal Nro. 078','779123456078',700.00,1150.00,0,1,'2025-11-18 21:51:28',NULL),(79,1,1,3,'Revista Música Clásica Nro. 079','779123456079',500.00,850.00,0,1,'2025-11-18 21:51:28',NULL),(80,2,2,4,'Libro de Manualidades Infantiles Nro. 080','779123456080',1100.00,1900.00,0,1,'2025-11-18 21:51:28',NULL),(81,3,3,1,'Revista Internacional Nro. 081','779123456081',700.00,1150.00,0,1,'2025-11-18 21:51:28',NULL),(82,1,1,2,'Fascículo Historia Natural Nro. 082','779123456082',450.00,700.00,0,1,'2025-11-18 21:51:28',NULL),(83,2,2,3,'Libro de Ajedrez Avanzado Nro. 083','779123456083',500.00,800.00,0,1,'2025-11-18 21:51:28',NULL),(84,3,3,4,'Manga Cuentos de Hadas Nro. 084','779123456084',400.00,600.00,0,1,'2025-11-18 21:51:28',NULL),(85,1,1,1,'Revista Tecnología Móvil Nro. 085','779123456085',1200.00,2100.00,0,1,'2025-11-18 21:51:28',NULL),(86,2,2,2,'Libro de Recetas Veganas Nro. 086','779123456086',700.00,1100.00,0,1,'2025-11-18 21:51:28',NULL),(87,3,3,3,'Cómic de Acción Nro. 087','779123456087',1000.00,1700.00,0,1,'2025-11-18 21:51:28',NULL),(88,1,1,4,'Revista Aprende Inglés Nro. 088','779123456088',650.00,1050.00,0,1,'2025-11-18 21:51:28',NULL),(89,2,2,1,'Libro de Fotografía Digital Nro. 089','779123456089',850.00,1400.00,0,1,'2025-11-18 21:51:28',NULL),(90,3,3,2,'Manga Deportivo Béisbol Nro. 090','779123456090',400.00,650.00,0,1,'2025-11-18 21:51:28',NULL),(91,1,1,3,'Revista de Electricidad Nro. 091','779123456091',900.00,1500.00,0,1,'2025-11-18 21:51:28',NULL),(92,2,2,4,'Libro de Juegos de Mesa Nro. 092','779123456092',620.00,1020.00,0,1,'2025-11-18 21:51:28',NULL),(93,3,3,1,'Revista Ciencia Avanzada Nro. 093','779123456093',720.00,1170.00,0,1,'2025-11-18 21:51:28',NULL),(94,1,1,2,'Fascículo Culturas Antiguas Nro. 094','779123456094',520.00,870.00,0,1,'2025-11-18 21:51:28',NULL),(95,2,2,3,'Libro de Música Pop Nro. 095','779123456095',570.00,920.00,0,1,'2025-11-18 21:51:28',NULL),(96,3,3,4,'Manga Educativo Nro. 096','779123456096',470.00,670.00,0,1,'2025-11-18 21:51:28',NULL),(97,1,1,1,'Revista Viajes Aventura Nro. 097','779123456097',1270.00,2170.00,0,1,'2025-11-18 21:51:28',NULL),(98,2,2,2,'Libro de Lógica Nro. 098','779123456098',770.00,1170.00,0,1,'2025-11-18 21:51:28',NULL),(99,3,3,3,'Cómic de Mitología Nro. 099','779123456099',1070.00,1770.00,0,1,'2025-11-18 21:51:28',NULL),(100,1,1,4,'Revista de Reciclaje Nro. 100','779123456100',700.00,1200.00,0,1,'2025-11-18 21:51:28',NULL);
/*!40000 ALTER TABLE `publicacion` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `rol`
--

DROP TABLE IF EXISTS `rol`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `rol` (
  `id_rol` int NOT NULL AUTO_INCREMENT,
  `nombre` varchar(50) COLLATE utf8mb4_unicode_ci NOT NULL,
  `descripcion` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `fecha_creacion` timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  `fecha_modificacion` timestamp NULL DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id_rol`),
  UNIQUE KEY `nombre` (`nombre`)
) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `rol`
--

LOCK TABLES `rol` WRITE;
/*!40000 ALTER TABLE `rol` DISABLE KEYS */;
INSERT INTO `rol` VALUES (1,'Administrador','Control total','2025-11-18 21:32:23',NULL),(2,'Vendedor','Registro de movimientos','2025-11-18 21:32:23',NULL);
/*!40000 ALTER TABLE `rol` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `stock`
--

DROP TABLE IF EXISTS `stock`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `stock` (
  `id_stock` int NOT NULL AUTO_INCREMENT,
  `id_publicacion` int NOT NULL,
  `id_ubicacion` int NOT NULL,
  `cantidad` int NOT NULL,
  `fecha_actualizacion` timestamp NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id_stock`),
  UNIQUE KEY `id_publicacion` (`id_publicacion`,`id_ubicacion`),
  KEY `id_ubicacion` (`id_ubicacion`),
  CONSTRAINT `stock_ibfk_1` FOREIGN KEY (`id_publicacion`) REFERENCES `publicacion` (`id_publicacion`),
  CONSTRAINT `stock_ibfk_2` FOREIGN KEY (`id_ubicacion`) REFERENCES `ubicacion` (`id_ubicacion`)
) ENGINE=InnoDB AUTO_INCREMENT=101 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `stock`
--

LOCK TABLES `stock` WRITE;
/*!40000 ALTER TABLE `stock` DISABLE KEYS */;
INSERT INTO `stock` VALUES (1,1,1,98,'2025-11-18 22:05:30'),(2,2,1,100,'2025-11-18 22:03:26'),(3,3,1,100,'2025-11-18 22:03:26'),(4,4,1,98,'2025-11-18 22:05:30'),(5,5,1,98,'2025-11-18 22:05:30'),(6,6,1,100,'2025-11-18 22:03:26'),(7,7,1,100,'2025-11-18 22:03:26'),(8,8,1,98,'2025-11-18 22:05:30'),(9,9,1,98,'2025-11-18 22:05:30'),(10,10,1,100,'2025-11-18 22:03:26'),(11,11,1,100,'2025-11-18 22:03:26'),(12,12,1,98,'2025-11-18 22:05:30'),(13,13,1,98,'2025-11-18 22:05:30'),(14,14,1,100,'2025-11-18 22:03:26'),(15,15,1,100,'2025-11-18 22:03:26'),(16,16,1,98,'2025-11-18 22:05:30'),(17,17,1,98,'2025-11-18 22:05:30'),(18,18,1,100,'2025-11-18 22:03:26'),(19,19,1,100,'2025-11-18 22:03:26'),(20,20,1,98,'2025-11-18 22:05:30'),(21,21,1,98,'2025-11-18 22:05:30'),(22,22,1,100,'2025-11-18 22:03:26'),(23,23,1,100,'2025-11-18 22:03:26'),(24,24,1,98,'2025-11-18 22:05:30'),(25,25,1,98,'2025-11-18 22:05:30'),(26,26,1,100,'2025-11-18 22:03:26'),(27,27,1,100,'2025-11-18 22:03:26'),(28,28,1,98,'2025-11-18 22:05:30'),(29,29,1,98,'2025-11-18 22:05:30'),(30,30,1,100,'2025-11-18 22:03:26'),(31,31,1,100,'2025-11-18 22:03:26'),(32,32,1,98,'2025-11-18 22:05:30'),(33,33,1,98,'2025-11-18 22:05:30'),(34,34,1,100,'2025-11-18 22:03:26'),(35,35,1,100,'2025-11-18 22:03:26'),(36,36,1,98,'2025-11-18 22:05:30'),(37,37,1,98,'2025-11-18 22:05:30'),(38,38,1,100,'2025-11-18 22:03:26'),(39,39,1,100,'2025-11-18 22:03:26'),(40,40,1,98,'2025-11-18 22:05:30'),(41,41,1,98,'2025-11-18 22:05:30'),(42,42,1,100,'2025-11-18 22:03:26'),(43,43,1,100,'2025-11-18 22:03:26'),(44,44,1,98,'2025-11-18 22:05:30'),(45,45,1,98,'2025-11-18 22:05:30'),(46,46,1,100,'2025-11-18 22:03:26'),(47,47,1,100,'2025-11-18 22:03:26'),(48,48,1,98,'2025-11-18 22:05:30'),(49,49,1,98,'2025-11-18 22:05:30'),(50,50,1,100,'2025-11-18 22:03:26'),(51,51,1,100,'2025-11-18 22:03:26'),(52,52,1,98,'2025-11-18 22:05:30'),(53,53,1,98,'2025-11-18 22:05:30'),(54,54,1,100,'2025-11-18 22:03:26'),(55,55,1,100,'2025-11-18 22:03:26'),(56,56,1,98,'2025-11-18 22:05:30'),(57,57,1,98,'2025-11-18 22:05:30'),(58,58,1,100,'2025-11-18 22:03:26'),(59,59,1,100,'2025-11-18 22:03:26'),(60,60,1,98,'2025-11-18 22:05:30'),(61,61,1,98,'2025-11-18 22:05:30'),(62,62,1,100,'2025-11-18 22:03:26'),(63,63,1,100,'2025-11-18 22:03:26'),(64,64,1,98,'2025-11-18 22:05:30'),(65,65,1,98,'2025-11-18 22:05:30'),(66,66,1,100,'2025-11-18 22:03:26'),(67,67,1,100,'2025-11-18 22:03:26'),(68,68,1,98,'2025-11-18 22:05:30'),(69,69,1,98,'2025-11-18 22:05:30'),(70,70,1,100,'2025-11-18 22:03:26'),(71,71,1,100,'2025-11-18 22:03:26'),(72,72,1,98,'2025-11-18 22:05:30'),(73,73,1,98,'2025-11-18 22:05:30'),(74,74,1,100,'2025-11-18 22:03:26'),(75,75,1,100,'2025-11-18 22:03:26'),(76,76,1,98,'2025-11-18 22:05:30'),(77,77,1,98,'2025-11-18 22:05:30'),(78,78,1,100,'2025-11-18 22:03:26'),(79,79,1,100,'2025-11-18 22:03:26'),(80,80,1,98,'2025-11-18 22:05:30'),(81,81,1,98,'2025-11-18 22:05:30'),(82,82,1,100,'2025-11-18 22:03:26'),(83,83,1,100,'2025-11-18 22:03:26'),(84,84,1,98,'2025-11-18 22:05:30'),(85,85,1,98,'2025-11-18 22:05:30'),(86,86,1,100,'2025-11-18 22:03:26'),(87,87,1,100,'2025-11-18 22:03:26'),(88,88,1,98,'2025-11-18 22:05:30'),(89,89,1,98,'2025-11-18 22:05:30'),(90,90,1,100,'2025-11-18 22:03:26'),(91,91,1,100,'2025-11-18 22:03:26'),(92,92,1,98,'2025-11-18 22:05:30'),(93,93,1,98,'2025-11-18 22:05:30'),(94,94,1,100,'2025-11-18 22:03:26'),(95,95,1,100,'2025-11-18 22:03:26'),(96,96,1,98,'2025-11-18 22:05:30'),(97,97,1,98,'2025-11-18 22:05:30'),(98,98,1,100,'2025-11-18 22:03:26'),(99,99,1,100,'2025-11-18 22:03:26'),(100,100,1,98,'2025-11-18 22:05:30');
/*!40000 ALTER TABLE `stock` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `sucursal`
--

DROP TABLE IF EXISTS `sucursal`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `sucursal` (
  `id_sucursal` int NOT NULL AUTO_INCREMENT,
  `id_ubicacion` int NOT NULL,
  `nombre` varchar(100) COLLATE utf8mb4_unicode_ci NOT NULL,
  `telefono` varchar(20) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `activo` tinyint(1) NOT NULL DEFAULT '1',
  `fecha_creacion` timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  `fecha_modificacion` timestamp NULL DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id_sucursal`),
  KEY `id_ubicacion` (`id_ubicacion`),
  CONSTRAINT `sucursal_ibfk_1` FOREIGN KEY (`id_ubicacion`) REFERENCES `ubicacion` (`id_ubicacion`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `sucursal`
--

LOCK TABLES `sucursal` WRITE;
/*!40000 ALTER TABLE `sucursal` DISABLE KEYS */;
INSERT INTO `sucursal` VALUES (1,1,'Sucursal Centro','3884-111111',1,'2025-11-18 21:39:27',NULL),(2,2,'Sucursal Belgrano','3884-222222',1,'2025-11-18 21:39:27',NULL),(3,3,'Sucursal La Loma','3884-333333',1,'2025-11-18 21:39:27',NULL);
/*!40000 ALTER TABLE `sucursal` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `tipomovimiento`
--

DROP TABLE IF EXISTS `tipomovimiento`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `tipomovimiento` (
  `id_tipo_mov` int NOT NULL AUTO_INCREMENT,
  `nombre` varchar(100) COLLATE utf8mb4_unicode_ci NOT NULL,
  `es_entrada_stock` tinyint(1) NOT NULL,
  `fecha_modificacion` timestamp NULL DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP,
  `fecha_creacion` timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id_tipo_mov`),
  UNIQUE KEY `nombre` (`nombre`)
) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `tipomovimiento`
--

LOCK TABLES `tipomovimiento` WRITE;
/*!40000 ALTER TABLE `tipomovimiento` DISABLE KEYS */;
INSERT INTO `tipomovimiento` VALUES (1,'Venta (Salida)',0,NULL,'2025-11-18 21:32:32'),(2,'Compra (Entrada)',1,NULL,'2025-11-18 21:32:32'),(4,'Distribución (Salida)',0,NULL,'2025-11-18 21:32:32');
/*!40000 ALTER TABLE `tipomovimiento` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `tipopublicacion`
--

DROP TABLE IF EXISTS `tipopublicacion`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `tipopublicacion` (
  `id_tipo_publicacion` int NOT NULL AUTO_INCREMENT,
  `nombre` varchar(100) COLLATE utf8mb4_unicode_ci NOT NULL,
  `descripcion` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `fecha_modificacion` timestamp NULL DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP,
  `fecha_creacion` timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id_tipo_publicacion`),
  UNIQUE KEY `nombre` (`nombre`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `tipopublicacion`
--

LOCK TABLES `tipopublicacion` WRITE;
/*!40000 ALTER TABLE `tipopublicacion` DISABLE KEYS */;
INSERT INTO `tipopublicacion` VALUES (1,'Revista Semanal',NULL,NULL,'2025-11-18 21:33:09'),(2,'Libro Tapa Dura',NULL,NULL,'2025-11-18 21:33:09'),(3,'Manga/Cómic',NULL,NULL,'2025-11-18 21:33:09');
/*!40000 ALTER TABLE `tipopublicacion` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `ubicacion`
--

DROP TABLE IF EXISTS `ubicacion`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `ubicacion` (
  `id_ubicacion` int NOT NULL AUTO_INCREMENT,
  `id_codigo_postal` int NOT NULL,
  `calle` varchar(100) COLLATE utf8mb4_unicode_ci NOT NULL,
  `numero` varchar(10) COLLATE utf8mb4_unicode_ci NOT NULL,
  `activo` tinyint(1) NOT NULL DEFAULT '1',
  `fecha_creacion` timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  `fecha_modificacion` timestamp NULL DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id_ubicacion`),
  KEY `id_codigo_postal` (`id_codigo_postal`),
  CONSTRAINT `ubicacion_ibfk_1` FOREIGN KEY (`id_codigo_postal`) REFERENCES `codigo_postal` (`id_codigo_postal`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `ubicacion`
--

LOCK TABLES `ubicacion` WRITE;
/*!40000 ALTER TABLE `ubicacion` DISABLE KEYS */;
INSERT INTO `ubicacion` VALUES (1,1,'Calle Belgrano','50',1,'2025-11-18 21:39:16',NULL),(2,1,'Av. 9 de Julio','1200',1,'2025-11-18 21:39:16',NULL),(3,1,'Barrio La Miel','30',1,'2025-11-18 21:39:16',NULL);
/*!40000 ALTER TABLE `ubicacion` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `usuario`
--

DROP TABLE IF EXISTS `usuario`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `usuario` (
  `id_usuario` int NOT NULL AUTO_INCREMENT,
  `nombre` varchar(50) COLLATE utf8mb4_unicode_ci NOT NULL,
  `contrasena_hash` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `id_rol` int NOT NULL,
  `activo` tinyint(1) NOT NULL DEFAULT '1',
  `fecha_creacion` timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id_usuario`),
  UNIQUE KEY `nombre` (`nombre`),
  KEY `id_rol` (`id_rol`),
  CONSTRAINT `usuario_ibfk_1` FOREIGN KEY (`id_rol`) REFERENCES `rol` (`id_rol`)
) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `usuario`
--

LOCK TABLES `usuario` WRITE;
/*!40000 ALTER TABLE `usuario` DISABLE KEYS */;
INSERT INTO `usuario` VALUES (1,'admin','HASH_SEGURIDAD',1,1,'2025-11-18 21:39:51'),(2,'mlopez','HASH_SEGURIDAD',2,1,'2025-11-18 21:39:51');
/*!40000 ALTER TABLE `usuario` ENABLE KEYS */;
UNLOCK TABLES;
/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on 2025-11-18 19:38:08
